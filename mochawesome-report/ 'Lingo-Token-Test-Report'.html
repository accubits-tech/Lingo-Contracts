<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:25,&quot;tests&quot;:121,&quot;passes&quot;:121,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-04-13T06:10:08.845Z&quot;,&quot;end&quot;:&quot;2023-04-13T06:10:35.523Z&quot;,&quot;duration&quot;:26678,&quot;testsRegistered&quot;:121,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;9b6ae41b-b1d4-4c1b-8a53-b31f756ab984&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ed24acf3-bd22-4e0b-84c0-f4094a8758de&quot;,&quot;title&quot;:&quot;Distribution Contract&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Distribution Contract\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract \&quot;before each\&quot; hook in \&quot;Distribution Contract\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:163,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await reset();\n[owner, user1, user2, user3, treasuryWallet] = await ethers.getSigners();\nconst Token = await ethers.getContractFactory(&#x27;LINGO&#x27;);\nconst Distribution = await ethers.getContractFactory(&#x27;Distribution&#x27;);\ntoken = await Token.deploy(\n  NAME,\n  SYMBOL,\n  TOTAL_SUPPLY_BN,\n  owner.address,\n  treasuryWallet.address,\n  FEE_BN\n);\ndistributionContract = await Distribution.deploy(\n  owner.address,\n  treasuryWallet.address,\n  token.address,\n  SLOT_BN,\n  ADMIN_CLAIM_PERIOD_BN,\n  WITHDRAWAL_FEE_BN\n);\ntoken.addToWhiteList(0, [distributionContract.address]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55b7f860-7b72-44ba-88a7-c2febb0658f8&quot;,&quot;parentUUID&quot;:&quot;ed24acf3-bd22-4e0b-84c0-f4094a8758de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3873a0cf-207b-45ee-8745-d373a0cf5aef&quot;,&quot;title&quot;:&quot;Deployment&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Ownership transferred from deployer to owner&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deployment Ownership transferred from deployer to owner&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await distributionContract.owner();\nexpect(result).to.equal(owner.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d7b87c-f30c-49df-8a9b-7e0cc922fc7a&quot;,&quot;parentUUID&quot;:&quot;3873a0cf-207b-45ee-8745-d373a0cf5aef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Distribution Contract is externally whitelisted&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deployment Distribution Contract is externally whitelisted&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.isExternalWhiteListed(distributionContract.address)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b3264b5-e99e-4000-a035-fcd1d20304d1&quot;,&quot;parentUUID&quot;:&quot;3873a0cf-207b-45ee-8745-d373a0cf5aef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00d7b87c-f30c-49df-8a9b-7e0cc922fc7a&quot;,&quot;8b3264b5-e99e-4000-a035-fcd1d20304d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;title&quot;:&quot;Withdrawal Fee&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Anyone can read current fee percentage&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdrawal Fee Anyone can read current fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getWithdrawalFee()).eq(WITHDRAWAL_FEE_BN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02b10974-f596-4913-926c-b6e1cb1b3c4a&quot;,&quot;parentUUID&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update fee percentage&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdrawal Fee Owner can update fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getWithdrawalFee()).eq(WITHDRAWAL_FEE_BN)).is.true;\nconst NEW_FEE = BN(200);\nawait distributionContract.setWithdrawalFee(NEW_FEE);\nexpect((await distributionContract.getWithdrawalFee()).eq(NEW_FEE)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b81cf8f9-66b4-4a50-b923-8f67c487fd7d&quot;,&quot;parentUUID&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fee percentage updated&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdrawal Fee Event emitted when fee percentage updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(200);\nawait expect(distributionContract.setWithdrawalFee(NEW_FEE))\n  .to.emit(distributionContract, &#x27;WithdrawalFeeUpdated&#x27;)\n  .withArgs(NEW_FEE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;772c16f9-6707-4685-937b-70739748c8ad&quot;,&quot;parentUUID&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update fee percentage&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdrawal Fee Reverts when non owner tries to update fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(200);\nawait expect(\n  distributionContract.connect(user1).setWithdrawalFee(NEW_FEE)\n).to.be.revertedWith(&#x27;Ownable: caller is not the owner&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee6e4c80-2a9b-416d-94bc-093a69af4c20&quot;,&quot;parentUUID&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to update fee percentage outside the limit 0% - 5%&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdrawal Fee Reverts when tries to update fee percentage outside the limit 0% - 5%&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(600);\nawait expect(distributionContract.setWithdrawalFee(NEW_FEE)).to.be.revertedWith(\n  &#x27;LINGO: Withdrawal Fee should be between 0% - 5%&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1122c12-5d31-4469-8537-b979bdde8a97&quot;,&quot;parentUUID&quot;:&quot;c59bdfba-46d0-4f7d-ab13-4146e7f8f13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;02b10974-f596-4913-926c-b6e1cb1b3c4a&quot;,&quot;b81cf8f9-66b4-4a50-b923-8f67c487fd7d&quot;,&quot;772c16f9-6707-4685-937b-70739748c8ad&quot;,&quot;ee6e4c80-2a9b-416d-94bc-093a69af4c20&quot;,&quot;d1122c12-5d31-4469-8537-b979bdde8a97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:159,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;title&quot;:&quot;Treasury Wallet&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Any one can read current treasury wallet&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Treasury Wallet Any one can read current treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await distributionContract.connect(user1).getTreasuryWalletAddress()).equals(\n  treasuryWallet.address\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ddcc0af-fba6-45fa-96b6-7ace16fa40ff&quot;,&quot;parentUUID&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update treasury wallet&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Treasury Wallet Owner can update treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await distributionContract.setTreasuryWalletAddress(user3.address);\nexpect(await distributionContract.getTreasuryWalletAddress()).equals(user3.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;769e08ed-bb17-4628-9ee7-14b8de74f68c&quot;,&quot;parentUUID&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when treasury wallet updated&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Treasury Wallet Event emitted when treasury wallet updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(distributionContract.setTreasuryWalletAddress(user3.address))\n  .to.emit(distributionContract, &#x27;TreasuryWalletUpdated&#x27;)\n  .withArgs(user3.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fc51c93-99d5-4a90-8e16-518b14cde106&quot;,&quot;parentUUID&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update treasury wallet&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Treasury Wallet Reverts when non owner tries to update treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(\n  distributionContract.connect(user1).setTreasuryWalletAddress(user3.address)\n).to.be.revertedWith(&#x27;Ownable: caller is not the owner&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3987dca9-f353-41b0-934f-16193fee2c64&quot;,&quot;parentUUID&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when owner tries to update treasury wallet with zero address&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Treasury Wallet Reverts when owner tries to update treasury wallet with zero address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(distributionContract.setTreasuryWalletAddress(ZERO_ADDRESS)).to.be.revertedWith(\n  &#x27;LINGO: Zero Address&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d262096-2308-4308-878f-8cf403abf956&quot;,&quot;parentUUID&quot;:&quot;86bf8f1c-8e6e-4aa8-af67-319ea5671dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ddcc0af-fba6-45fa-96b6-7ace16fa40ff&quot;,&quot;769e08ed-bb17-4628-9ee7-14b8de74f68c&quot;,&quot;7fc51c93-99d5-4a90-8e16-518b14cde106&quot;,&quot;3987dca9-f353-41b0-934f-16193fee2c64&quot;,&quot;3d262096-2308-4308-878f-8cf403abf956&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:119,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;title&quot;:&quot;Slot&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Anyone can read current slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Slot Anyone can read current slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getSlot()).eq(SLOT_BN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ff05c32-b7cd-480b-a226-33a76ceac580&quot;,&quot;parentUUID&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Slot Owner can update slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getSlot()).eq(SLOT_BN)).is.true;\nconst NEW_SLOT = BN(10 * 24);\nawait distributionContract.updateSlot(NEW_SLOT);\nexpect((await distributionContract.getSlot()).eq(NEW_SLOT)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a82b3b4-7534-4b59-a2a9-473a23757994&quot;,&quot;parentUUID&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when slot updated&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Slot Event emitted when slot updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_SLOT = BN(10 * 24);\nawait expect(distributionContract.updateSlot(NEW_SLOT))\n  .to.emit(distributionContract, &#x27;SlotUpdated&#x27;)\n  .withArgs(NEW_SLOT);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45bad1f7-16fa-45d5-b6bd-971bc08ba732&quot;,&quot;parentUUID&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Slot Reverts when non owner tries to update slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_SLOT = BN(10 * 24);\nawait expect(distributionContract.connect(user1).updateSlot(NEW_SLOT)).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f64eea04-9c2f-410e-a0ee-d97f78434f32&quot;,&quot;parentUUID&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to update slot with zero&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Slot Reverts when tries to update slot with zero&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_SLOT = BN(0);\nawait expect(distributionContract.updateSlot(NEW_SLOT)).to.be.revertedWith(\n  &#x27;LINGO: Slot cannot be zero&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88c2f3a8-b837-429a-b888-8a70defe06e1&quot;,&quot;parentUUID&quot;:&quot;c982f18e-646b-48be-8a58-de25a17be18f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7ff05c32-b7cd-480b-a226-33a76ceac580&quot;,&quot;6a82b3b4-7534-4b59-a2a9-473a23757994&quot;,&quot;45bad1f7-16fa-45d5-b6bd-971bc08ba732&quot;,&quot;f64eea04-9c2f-410e-a0ee-d97f78434f32&quot;,&quot;88c2f3a8-b837-429a-b888-8a70defe06e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:58,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;e6eeeaea-9038-4b72-9520-dacdbc51e918&quot;,&quot;title&quot;:&quot;Admin Claim Period&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Anyone can read admin claim period&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Period Anyone can read admin claim period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getAdminClaimPeriod()).eq(ADMIN_CLAIM_PERIOD_BN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbd3a8e0-e9ec-48a7-b65c-fce4b7c153d8&quot;,&quot;parentUUID&quot;:&quot;e6eeeaea-9038-4b72-9520-dacdbc51e918&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update admin claim period&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Period Owner can update admin claim period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await distributionContract.getAdminClaimPeriod()).eq(ADMIN_CLAIM_PERIOD_BN)).is.true;\nconst NEW_PERIOD = BN(6 * 30 * 24);\nawait distributionContract.updateAdminClaimPeriod(NEW_PERIOD);\nexpect((await distributionContract.getAdminClaimPeriod()).eq(NEW_PERIOD)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;feef2cc2-f434-4807-8468-dffaa7a86811&quot;,&quot;parentUUID&quot;:&quot;e6eeeaea-9038-4b72-9520-dacdbc51e918&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when slot updated&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Period Event emitted when slot updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_PERIOD = BN(6 * 30 * 24);\nawait expect(distributionContract.updateAdminClaimPeriod(NEW_PERIOD))\n  .to.emit(distributionContract, &#x27;AdminClaimPeriodUpdated&#x27;)\n  .withArgs(NEW_PERIOD);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe528a43-793c-4c15-b2cf-0f9fd44d4f9c&quot;,&quot;parentUUID&quot;:&quot;e6eeeaea-9038-4b72-9520-dacdbc51e918&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Period Reverts when non owner tries to update slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_PERIOD = BN(6 * 30 * 24);\nawait expect(\n  distributionContract.connect(user1).updateAdminClaimPeriod(NEW_PERIOD)\n).to.be.revertedWith(&#x27;Ownable: caller is not the owner&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6563e0c2-a83a-4e8a-812b-065cdce69b97&quot;,&quot;parentUUID&quot;:&quot;e6eeeaea-9038-4b72-9520-dacdbc51e918&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dbd3a8e0-e9ec-48a7-b65c-fce4b7c153d8&quot;,&quot;feef2cc2-f434-4807-8468-dffaa7a86811&quot;,&quot;fe528a43-793c-4c15-b2cf-0f9fd44d4f9c&quot;,&quot;6563e0c2-a83a-4e8a-812b-065cdce69b97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;title&quot;:&quot;Contract Current State&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Anyone can read current token address&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Contract Current State Anyone can read current token address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await distributionContract.getTokenAddress()).equal(token.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a794aa6c-6001-4465-a469-024fa735a555&quot;,&quot;parentUUID&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Anyone can read current contract state&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Contract Current State Anyone can read current contract state&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const state = await distributionContract.getContractState();\nconst currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nexpect(state.startTime.eq(currentEpochTimeInHoursBN)).is.true;\nexpect(state.endTime.eq(currentEpochTimeInHoursBN.add(SLOT_BN))).is.true;\nexpect(state.totalAmount.eq(BN(0))).is.true;\nexpect(state.totalCredits.eq(BN(0))).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b0acf4d-655c-4ea0-afd4-65a0c80599bd&quot;,&quot;parentUUID&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Anyone can read staked user address&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Contract Current State Anyone can read staked user address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);\nawait deposit(distributionContract, token, user1, amountBN);\nawait deposit(distributionContract, token, user2, amountBN);\nawait deposit(distributionContract, token, user3, amountBN);\nconst stakedUsers = await distributionContract.getUserAddresses();\nexpect(_.isEqual(stakedUsers, [user1.address, user2.address, user3.address])).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a74356f-562f-49ea-9962-ade79970f488&quot;,&quot;parentUUID&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Anyone can read current user status&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Contract Current State Anyone can read current user status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);\nawait deposit(distributionContract, token, user1, amountBN);\nconst userStatus = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nexpect(userStatus.balance.eq(amountBN)).is.true;\nexpect(userStatus.forecastedCredits.eq(amountBN.mul(SLOT_BN))).is.true;\nexpect(userStatus.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;\nexpect(userStatus.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de3e4347-1d33-4bb4-8723-0e5342631b6b&quot;,&quot;parentUUID&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Anyone can read distribution history&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Contract Current State Anyone can read distribution history&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nawait distribute(distributionContract, token, amountBN);\nconst currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nconst distributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory.length &gt; 0).is.true;\nexpect(distributionHistory[0].startTime.eq(currentEpochTimeInHoursBN)).is.true;\nexpect(distributionHistory[0].endTime.eq(currentEpochTimeInHoursBN.add(SLOT_BN))).is.true;\nexpect(distributionHistory[0].monthlyProfit.eq(amountBN)).is.true;\nexpect(distributionHistory[0].totalCredits.eq(BN(0))).is.true;\nexpect(distributionHistory[0].remainingTokensToClaim.eq(amountBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;168d0d04-c250-4651-b847-3dfdb1547112&quot;,&quot;parentUUID&quot;:&quot;8a4633d9-7108-4c1a-a6a3-8d913a7fc820&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a794aa6c-6001-4465-a469-024fa735a555&quot;,&quot;7b0acf4d-655c-4ea0-afd4-65a0c80599bd&quot;,&quot;2a74356f-562f-49ea-9962-ade79970f488&quot;,&quot;de3e4347-1d33-4bb4-8723-0e5342631b6b&quot;,&quot;168d0d04-c250-4651-b847-3dfdb1547112&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:451,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;title&quot;:&quot;Deposit&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Deposit\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit \&quot;before each\&quot; hook in \&quot;Deposit\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93487e8e-21c1-4fb1-9c70-99a06f4f0813&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Any user with enough token balance can deposit any amount of tokens to the contract &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Any user with enough token balance can deposit any amount of tokens to the contract &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst balance = await token.balanceOf(user1.address);\nawait deposit(distributionContract, token, user1, amountBN);\nconst userStatus = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nexpect((await token.balanceOf(user1.address)).eq(balance.sub(amountBN))).is.true;\nexpect(userStatus.balance.eq(amountBN)).is.true;\nexpect(userStatus.forecastedCredits.eq(amountBN.mul(SLOT_BN))).is.true;\nexpect(userStatus.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;\nexpect(userStatus.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caded493-2c0f-4e5a-b202-e69be274a71f&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Multiple users can deposit &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Multiple users can deposit &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nconst amountBN1 = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nlet user1Status = await distributionContract.getUserStatus(user1.address);\nlet user2Status = await distributionContract.getUserStatus(user2.address);\nconst expectedCredits1 = await forecastCredits(\n  distributionContract,\n  user1Status,\n  amountBN1,\n  currentEpochTimeInHoursBN,\n  operation.deposit\n);\nconst expectedCredits2 = await forecastCredits(\n  distributionContract,\n  user2Status,\n  amountBN2,\n  currentEpochTimeInHoursBN,\n  operation.deposit\n);\nawait deposit(distributionContract, token, user1, amountBN1);\nawait deposit(distributionContract, token, user2, amountBN2);\nuser1Status = await distributionContract.getUserStatus(user1.address);\nuser2Status = await distributionContract.getUserStatus(user2.address);\nexpect(user1Status.balance.eq(amountBN1)).is.true;\nexpect(user1Status.forecastedCredits.eq(expectedCredits1)).is.true;\nexpect(user2Status.balance.eq(amountBN2)).is.true;\nexpect(user2Status.forecastedCredits.eq(expectedCredits2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8df69323-21a5-4648-90ad-622a8d6a7c3d&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;On deposit contract state changes &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit On deposit contract state changes &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:155,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait deposit(distributionContract, token, user2, amountBN2);\nconst user1Status = await distributionContract.getUserStatus(user1.address);\nconst user2Status = await distributionContract.getUserStatus(user2.address);\nexpect(user1Status.balance.eq(amountBN1)).is.true;\nexpect(user1Status.forecastedCredits.eq(amountBN1.mul(SLOT_BN))).is.true;\nexpect(user2Status.balance.eq(amountBN2)).is.true;\nexpect(user2Status.forecastedCredits.eq(amountBN2.mul(SLOT_BN))).is.true;\nconst contractState = await distributionContract.getContractState();\nexpect(contractState.totalAmount.eq(amountBN1.add(amountBN2))).is.true;\nexpect(\n  contractState.totalCredits.eq(\n    user1Status.forecastedCredits.add(user2Status.forecastedCredits)\n  )\n).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4febf4f0-4cfb-4376-903b-2b1a7a798d16&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can deposit any amount at any time &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Users can deposit any amount at any time &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst currentEpochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600));\nconst userStatus = await distributionContract.getUserStatus(user1.address);\nexpect(userStatus.balance.eq(amountBN)).is.true;\nexpect(userStatus.forecastedCredits.eq(amountBN.mul(SLOT_BN))).is.true;\nexpect(userStatus.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;\nexpect(userStatus.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;\nconst skippingTime = BN(10 * 24).mul(BN(3600));\nconst amountBN2 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nconst epochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600)).add(BN(10 * 24));\nconst expectedCredits = await forecastCredits(\n  distributionContract,\n  userStatus,\n  amountBN2,\n  epochTimeInHoursBN,\n  operation.deposit\n);\nawait skipTime(skippingTime.toNumber());\nawait deposit(distributionContract, token, user1, amountBN2);\nconst userStatus2 = await distributionContract.getUserStatus(user1.address);\nexpect(userStatus2.balance.eq(amountBN.add(amountBN2))).is.true;\nexpect(userStatus2.forecastedCredits.eq(expectedCredits)).is.true;\nexpect(userStatus2.lastUpdatedTimestamp.eq(epochTimeInHoursBN)).is.true;\nexpect(userStatus2.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4d74abe-db6d-43ff-91a0-5846976a7f37&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fund deposited&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Event emitted when fund deposited&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:64,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait token.connect(user1).approve(distributionContract.address, amountBN);\nawait expect(distributionContract.connect(user1).deposit(amountBN))\n  .to.emit(distributionContract, &#x27;Deposit&#x27;)\n  .withArgs(user1.address, amountBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;236f2e72-4935-4350-bbaf-9e4183345ec8&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add user to the staked users list&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Add user to the staked users list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst initialList = await distributionContract.getUserAddresses();\nexpect(_.isEqual(initialList, [user1.address])).is.false;\nawait deposit(distributionContract, token, user1, amountBN);\nconst finalList = await distributionContract.getUserAddresses();\nexpect(_.isEqual(finalList, [user1.address])).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fde8e346-63b7-41c6-aee9-7b52604a1386&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to deposit zero amount&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Reverts when tries to deposit zero amount&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(0);\nawait expect(distributionContract.connect(user1).deposit(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Amount cannot be zero&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3044c1f-015e-44a1-9dda-1805e9e41545&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to deposit without allowance&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Reverts when tries to deposit without allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(distributionContract.connect(user1).deposit(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Insufficient allowance&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8c8c2cc-8934-4998-9cbd-84914dec3a7a&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when staking is not active&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Reverts when staking is not active&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(distributionContract.connect(user1).deposit(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Distribution is on hold. Please contact admin&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1983cd7a-4989-49d5-9554-0eb9135cb62d&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when user have unclaimed tokens&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Deposit Reverts when user have unclaimed tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributionAmountBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributionAmountBN);\nconst amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(distributionContract.connect(user1).deposit(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: User have unclaimed tokens. Please claim it before deposit or withdraw&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4f34bb9-1340-46f4-8b8d-db4fe66e3105&quot;,&quot;parentUUID&quot;:&quot;bb9c745c-ea7b-4fbd-a72e-c79836dd76d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;caded493-2c0f-4e5a-b202-e69be274a71f&quot;,&quot;8df69323-21a5-4648-90ad-622a8d6a7c3d&quot;,&quot;4febf4f0-4cfb-4376-903b-2b1a7a798d16&quot;,&quot;a4d74abe-db6d-43ff-91a0-5846976a7f37&quot;,&quot;236f2e72-4935-4350-bbaf-9e4183345ec8&quot;,&quot;fde8e346-63b7-41c6-aee9-7b52604a1386&quot;,&quot;b3044c1f-015e-44a1-9dda-1805e9e41545&quot;,&quot;d8c8c2cc-8934-4998-9cbd-84914dec3a7a&quot;,&quot;1983cd7a-4989-49d5-9554-0eb9135cb62d&quot;,&quot;f4f34bb9-1340-46f4-8b8d-db4fe66e3105&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:767,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;title&quot;:&quot;Withdraw&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Withdraw\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw \&quot;before each\&quot; hook in \&quot;Withdraw\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;183102ce-81b8-489b-a9c7-aae867c13930&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Any active user can fully withdraw staked fund&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Any active user can fully withdraw staked fund&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst userStatus1 = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN1 = BN(Math.floor(Date.now() / 1000 / 3600));\nexpect(userStatus1.balance.eq(amountBN)).is.true;\nexpect(userStatus1.forecastedCredits.eq(amountBN.mul(SLOT_BN))).is.true;\nexpect(userStatus1.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN1)).is.true;\nexpect(userStatus1.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN1)).is.true;\nconst balance = await token.balanceOf(user1.address);\nawait withdraw(distributionContract, user1, amountBN);\nconst userStatus2 = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN2 = BN(Math.floor(Date.now() / 1000 / 3600));\nconst expectedCredits = await forecastCredits(\n  distributionContract,\n  userStatus1,\n  amountBN,\n  currentEpochTimeInHoursBN2,\n  0\n);\nconst expectedAmount = await debitWithdrawalFee(token, distributionContract, amountBN);\nexpect((await token.balanceOf(user1.address)).eq(balance.add(expectedAmount))).is.true;\nexpect(userStatus2.balance.eq(BN(0))).is.true;\nexpect(userStatus2.forecastedCredits.eq(expectedCredits)).is.true;\nexpect(userStatus2.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN2)).is.true;\nexpect(userStatus2.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2e387af-f4d8-4562-8ae8-ef59c665edf5&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Any active user can partially withdraw staked fund&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Any active user can partially withdraw staked fund&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:150,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst userStatus1 = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN1 = BN(Math.floor(Date.now() / 1000 / 3600));\nexpect(userStatus1.balance.eq(amountBN)).is.true;\nexpect(userStatus1.forecastedCredits.eq(amountBN.mul(SLOT_BN))).is.true;\nexpect(userStatus1.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN1)).is.true;\nexpect(userStatus1.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN1)).is.true;\nconst balance = await token.balanceOf(user1.address);\nconst withdrawAmountBN = BN(50).mul(BN(10).pow(DECIMALS_BN));\nawait withdraw(distributionContract, user1, withdrawAmountBN);\nconst userStatus2 = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN2 = BN(Math.floor(Date.now() / 1000 / 3600));\nconst expectedCredits = await forecastCredits(\n  distributionContract,\n  userStatus1,\n  withdrawAmountBN,\n  currentEpochTimeInHoursBN2,\n  0\n);\nconst expectedAmount = await debitWithdrawalFee(\n  token,\n  distributionContract,\n  withdrawAmountBN\n);\nexpect((await token.balanceOf(user1.address)).eq(balance.add(expectedAmount))).is.true;\nexpect(userStatus2.balance.eq(amountBN.sub(withdrawAmountBN))).is.true;\nexpect(userStatus2.forecastedCredits.eq(expectedCredits)).is.true;\nexpect(userStatus2.lastUpdatedTimestamp.eq(currentEpochTimeInHoursBN2)).is.true;\nexpect(userStatus2.lastClaimedTimestamp.eq(currentEpochTimeInHoursBN2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;040ae62d-f404-45b3-b28e-ffdc5900b721&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Multiple users can withdraw &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Multiple users can withdraw &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:254,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait deposit(distributionContract, token, user2, amountBN2);\nconst user1Status1 = await distributionContract.getUserStatus(user1.address);\nconst user2Status1 = await distributionContract.getUserStatus(user2.address);\nconst withdrawAmountBN1 = BN(70).mul(BN(10).pow(DECIMALS_BN));\nconst withdrawAmountBN2 = BN(30).mul(BN(10).pow(DECIMALS_BN));\nawait withdraw(distributionContract, user1, withdrawAmountBN1);\nawait withdraw(distributionContract, user2, withdrawAmountBN2);\nconst user1Status2 = await distributionContract.getUserStatus(user1.address);\nconst user2Status2 = await distributionContract.getUserStatus(user2.address);\nconst currentEpochTimeInHoursBN2 = BN(Math.floor(Date.now() / 1000 / 3600));\nconst expectedCredits1 = await forecastCredits(\n  distributionContract,\n  user1Status1,\n  withdrawAmountBN1,\n  currentEpochTimeInHoursBN2,\n  0\n);\nconst expectedCredits2 = await forecastCredits(\n  distributionContract,\n  user2Status1,\n  withdrawAmountBN2,\n  currentEpochTimeInHoursBN2,\n  0\n);\nexpect(user1Status2.balance.eq(amountBN1.sub(withdrawAmountBN1))).is.true;\nexpect(user1Status2.forecastedCredits.eq(expectedCredits1)).is.true;\nexpect(user2Status2.balance.eq(amountBN2.sub(withdrawAmountBN2))).is.true;\nexpect(user2Status2.forecastedCredits.eq(expectedCredits2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;768294a2-9caf-49ae-850b-0f6e30eb6eaf&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;On withdraw contract state changes &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw On withdraw contract state changes &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:260,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(100).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait deposit(distributionContract, token, user2, amountBN2);\nconst user1Status1 = await distributionContract.getUserStatus(user1.address);\nconst user2Status1 = await distributionContract.getUserStatus(user2.address);\nexpect(user1Status1.balance.eq(amountBN1)).is.true;\nexpect(user1Status1.forecastedCredits.eq(amountBN1.mul(SLOT_BN))).is.true;\nexpect(user2Status1.balance.eq(amountBN2)).is.true;\nexpect(user2Status1.forecastedCredits.eq(amountBN2.mul(SLOT_BN))).is.true;\nconst contractState1 = await distributionContract.getContractState();\nexpect(contractState1.totalAmount.eq(amountBN1.add(amountBN2))).is.true;\nexpect(\n  contractState1.totalCredits.eq(\n    user1Status1.forecastedCredits.add(user2Status1.forecastedCredits)\n  )\n).is.true;\nconst withdrawAmountBN1 = BN(70).mul(BN(10).pow(DECIMALS_BN));\nconst withdrawAmountBN2 = BN(30).mul(BN(10).pow(DECIMALS_BN));\nawait withdraw(distributionContract, user1, withdrawAmountBN1);\nawait withdraw(distributionContract, user2, withdrawAmountBN2);\nconst user1Status2 = await distributionContract.getUserStatus(user1.address);\nconst user2Status2 = await distributionContract.getUserStatus(user2.address);\nconst currentEpochTimeInHoursBN2 = BN(Math.floor(Date.now() / 1000 / 3600));\nconst expectedCredits1 = await forecastCredits(\n  distributionContract,\n  user1Status1,\n  withdrawAmountBN1,\n  currentEpochTimeInHoursBN2,\n  0\n);\nconst expectedCredits2 = await forecastCredits(\n  distributionContract,\n  user2Status1,\n  withdrawAmountBN2,\n  currentEpochTimeInHoursBN2,\n  0\n);\nexpect(user1Status2.balance.eq(amountBN1.sub(withdrawAmountBN1))).is.true;\nexpect(user1Status2.forecastedCredits.eq(expectedCredits1)).is.true;\nexpect(user2Status2.balance.eq(amountBN2.sub(withdrawAmountBN2))).is.true;\nexpect(user2Status2.forecastedCredits.eq(expectedCredits2)).is.true;\nconst contractState2 = await distributionContract.getContractState();\nexpect(contractState2.totalAmount.eq(user1Status2.balance.add(user2Status2.balance))).is\n  .true;\nexpect(\n  contractState2.totalCredits.eq(\n    user1Status2.forecastedCredits.add(user2Status2.forecastedCredits)\n  )\n).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d5b1d83-cc85-40b1-816c-13b2b7c4cb45&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can withdraw any amount at any time &quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Users can withdraw any amount at any time &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst balance = await token.balanceOf(user1.address);\nconst userStatus1 = await distributionContract.getUserStatus(user1.address);\nconst currentEpochTimeInHoursBN1 = BN(Math.floor(Date.now() / 1000 / 3600));\nconst withdrawAmountBN1 = BN(50).mul(BN(10).pow(DECIMALS_BN));\nconst expectedCredits1 = await forecastCredits(\n  distributionContract,\n  userStatus1,\n  withdrawAmountBN1,\n  currentEpochTimeInHoursBN1,\n  0\n);\nconst expectedAmount1 = await debitWithdrawalFee(\n  token,\n  distributionContract,\n  withdrawAmountBN1\n);\nawait withdraw(distributionContract, user1, withdrawAmountBN1);\nconst userStatus2 = await distributionContract.getUserStatus(user1.address);\nexpect((await token.balanceOf(user1.address)).eq(balance.add(expectedAmount1))).is.true;\nexpect(userStatus2.balance.eq(amountBN.sub(withdrawAmountBN1))).is.true;\nexpect(userStatus2.forecastedCredits.eq(expectedCredits1)).is.true;\nconst skippingTime = BN(10 * 24).mul(BN(3600));\nconst currentEpochTimeInHoursBN2 = BN(Math.floor(Date.now() / 1000 / 3600)).add(BN(10 * 24));\nconst withdrawAmountBN2 = BN(25).mul(BN(10).pow(DECIMALS_BN));\nconst expectedCredits2 = await forecastCredits(\n  distributionContract,\n  userStatus2,\n  withdrawAmountBN2,\n  currentEpochTimeInHoursBN2,\n  0\n);\nconst expectedAmount2 = await debitWithdrawalFee(\n  token,\n  distributionContract,\n  withdrawAmountBN2\n);\nawait skipTime(skippingTime.toNumber());\nawait withdraw(distributionContract, user1, withdrawAmountBN2);\nconst userStatus3 = await distributionContract.getUserStatus(user1.address);\nexpect(\n  (await token.balanceOf(user1.address)).eq(\n    balance.add(expectedAmount1).add(expectedAmount2)\n  )\n).is.true;\nexpect(userStatus3.balance.eq(userStatus2.balance.sub(withdrawAmountBN2))).is.true;\nexpect(userStatus3.forecastedCredits.eq(expectedCredits2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f704478-be92-4038-8ad4-ef7a5bf403ec&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fund withdrawn&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Event emitted when fund withdrawn&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:83,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait expect(distributionContract.connect(user1).withdraw(amountBN))\n  .to.emit(distributionContract, &#x27;Withdraw&#x27;)\n  .withArgs(user1.address, amountBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;706efc97-493a-4fd3-9ec7-7bf3d1ebdc6b&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Transaction Fee and Withdrawal Fee debited and transferred to treasury wallet&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Transaction Fee and Withdrawal Fee debited and transferred to treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst userBalance = await token.balanceOf(user1.address);\nconst treasuryBalance = await token.balanceOf(treasuryWallet.address);\nawait withdraw(distributionContract, user1, amountBN);\nconst expectedAmount = await debitWithdrawalFee(token, distributionContract, amountBN);\nexpect((await token.balanceOf(user1.address)).eq(userBalance.add(expectedAmount))).is.true;\nexpect((await token.balanceOf(treasuryWallet.address)).eq(amountBN.sub(expectedAmount))).is\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66f93baf-241c-4b90-83b8-75293ade2689&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to withdraw zero amount&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Reverts when tries to withdraw zero amount&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait expect(distributionContract.connect(user1).withdraw(BN(0))).to.be.revertedWith(\n  &#x27;LINGO: Amount cannot be zero&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dd8dfe7-b990-4be3-9d3b-dc2bef849eff&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to withdraw more than staked amount&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Reverts when tries to withdraw more than staked amount&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst withdrawAmountBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait expect(\n  distributionContract.connect(user1).withdraw(withdrawAmountBN)\n).to.be.revertedWith(&#x27;LINGO: Insufficient balance&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9378051-53c6-424d-9342-d82d403739e2&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when an user who have not staked tries to withdraw&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Reverts when an user who have not staked tries to withdraw&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(distributionContract.connect(user1).withdraw(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Not an active user&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c4b0bf1-184f-4655-ac7c-a839fd15e72b&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when staking is not active&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Reverts when staking is not active&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nawait expect(distributionContract.connect(user1).withdraw(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Distribution is on hold. Please contact admin&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2ea7164-f8bb-4ed5-8a57-73b6076506d4&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when user have unclaimed tokens&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Withdraw Reverts when user have unclaimed tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributionAmountBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributionAmountBN);\nawait expect(distributionContract.connect(user1).withdraw(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: User have unclaimed tokens. Please claim it before deposit or withdraw&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4c9b7ce-b84c-4bbf-a176-58cfdd317f63&quot;,&quot;parentUUID&quot;:&quot;77587afe-2bbc-4e64-817c-4f9a2ed56955&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2e387af-f4d8-4562-8ae8-ef59c665edf5&quot;,&quot;040ae62d-f404-45b3-b28e-ffdc5900b721&quot;,&quot;768294a2-9caf-49ae-850b-0f6e30eb6eaf&quot;,&quot;3d5b1d83-cc85-40b1-816c-13b2b7c4cb45&quot;,&quot;3f704478-be92-4038-8ad4-ef7a5bf403ec&quot;,&quot;706efc97-493a-4fd3-9ec7-7bf3d1ebdc6b&quot;,&quot;66f93baf-241c-4b90-83b8-75293ade2689&quot;,&quot;2dd8dfe7-b990-4be3-9d3b-dc2bef849eff&quot;,&quot;b9378051-53c6-424d-9342-d82d403739e2&quot;,&quot;0c4b0bf1-184f-4655-ac7c-a839fd15e72b&quot;,&quot;c2ea7164-f8bb-4ed5-8a57-73b6076506d4&quot;,&quot;f4c9b7ce-b84c-4bbf-a176-58cfdd317f63&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1546,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;title&quot;:&quot;Distribute&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Distribute\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute \&quot;before each\&quot; hook in \&quot;Distribute\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83154248-ed97-43a2-8df5-3dcbb04418f4&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Admin can distribute tokens when each slot ends&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Admin can distribute tokens when each slot ends&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst contractState = await distributionContract.getContractState();\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst distributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory.length &gt; 0).is.true;\nexpect(distributionHistory[0].startTime.eq(contractState.startTime)).is.true;\nexpect(distributionHistory[0].endTime.eq(contractState.endTime)).is.true;\nexpect(distributionHistory[0].monthlyProfit.eq(distributeAmountBN)).is.true;\nexpect(distributionHistory[0].totalCredits.eq(contractState.totalCredits)).is.true;\nexpect(distributionHistory[0].remainingTokensToClaim.eq(distributeAmountBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe42deaf-30b2-425b-9bd6-9ebdfa241b51&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;New slot is set after distribution function called&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute New slot is set after distribution function called&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst { startTime, endTime, totalAmount, totalCredits } =\n  await distributionContract.getContractState();\nconst distributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory.length &gt; 0).is.true;\nexpect(startTime.eq(distributionHistory[0].endTime)).is.true;\nexpect(endTime.eq(distributionHistory[0].endTime.add(SLOT_BN))).is.true;\nexpect(totalCredits.eq(totalAmount.mul(endTime.sub(startTime)))).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a327bd7-94cd-4245-99fb-ec4506b0d074&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fund deposited&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Event emitted when fund deposited&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait token.approve(distributionContract.address, distributeAmountBN);\nawait expect(distributionContract.distribute(distributeAmountBN))\n  .to.emit(distributionContract, &#x27;Distribute&#x27;)\n  .withArgs(distributeAmountBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab65bff7-13ef-4770-9438-cdc7f01ca825&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to call distribute&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Reverts when non owner tries to call distribute&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait token.connect(user1).approve(distributionContract.address, distributeAmountBN);\nawait expect(\n  distributionContract.connect(user1).distribute(distributeAmountBN)\n).to.be.revertedWith(&#x27;Ownable: caller is not the owner&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c081774-7617-4438-944f-c72639cc0c96&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to distribute zero amount&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Reverts when tries to distribute zero amount&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await token.approve(distributionContract.address, BN(0));\nawait expect(distributionContract.distribute(BN(0))).to.be.revertedWith(\n  &#x27;LINGO: Amount cannot be zero&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5e19389-75a2-471d-a951-6f5ba551070c&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to deposit without allowance&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Reverts when tries to deposit without allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nawait expect(distributionContract.distribute(amountBN)).to.be.revertedWith(\n  &#x27;LINGO: Insufficient allowance&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8655e71e-d05f-4c37-8a0e-d8e706a16bec&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to distribute before ending the slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Distribute Reverts when tries to distribute before ending the slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait skipTime(\n  BN(SLOT_BN.sub(BN(24)))\n    .mul(BN(3600))\n    .toNumber()\n);\nawait token.approve(distributionContract.address, distributeAmountBN);\nawait expect(distributionContract.distribute(distributeAmountBN)).to.be.revertedWith(\n  &#x27;LINGO: Current slot is active&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72ef6a52-02f1-4da1-a44d-b3cf2698a888&quot;,&quot;parentUUID&quot;:&quot;6ceb7a10-3fd6-410b-910f-ebc37c0fb0a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe42deaf-30b2-425b-9bd6-9ebdfa241b51&quot;,&quot;4a327bd7-94cd-4245-99fb-ec4506b0d074&quot;,&quot;ab65bff7-13ef-4770-9438-cdc7f01ca825&quot;,&quot;3c081774-7617-4438-944f-c72639cc0c96&quot;,&quot;e5e19389-75a2-471d-a951-6f5ba551070c&quot;,&quot;8655e71e-d05f-4c37-8a0e-d8e706a16bec&quot;,&quot;72ef6a52-02f1-4da1-a44d-b3cf2698a888&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:432,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;title&quot;:&quot;Claim&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Claim\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim \&quot;before each\&quot; hook in \&quot;Claim\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f25ee90-ead8-4fab-9afc-4a8a7ca68a8d&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Users can claim their rewards when each slot ends&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Users can claim their rewards when each slot ends&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst balance = await token.balanceOf(user1.address);\nawait distributionContract.connect(user1).claimRewards();\nconst expectedAmount = await debitFee(token, distributeAmountBN);\nconst finalBalance = await token.balanceOf(user1.address);\nconst epochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600)).add(SLOT_BN.add(BN(1)));\nconst userStatus = await distributionContract.getUserStatus(user1.address);\nexpect(finalBalance.sub(balance).eq(expectedAmount)).is.true;\nexpect(userStatus.lastClaimedTimestamp.eq(epochTimeInHoursBN)).is.true;\nconst distributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory[0].remainingTokensToClaim.eq(BN(0))).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4277336-50ab-48aa-87b1-6590e82f2f4d&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Tokens are distributed among the users according to their staked amount and time period&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Tokens are distributed among the users according to their staked amount and time period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:258,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait deposit(distributionContract, token, user2, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst balanceUser1 = await token.balanceOf(user1.address);\nawait distributionContract.connect(user1).claimRewards();\nconst expectedAmount = await debitFee(token, distributeAmountBN.div(2));\nconst finalBalanceUser1 = await token.balanceOf(user1.address);\nconst epochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600)).add(SLOT_BN.add(BN(1)));\nconst user1Status = await distributionContract.getUserStatus(user1.address);\nexpect(finalBalanceUser1.sub(balanceUser1).eq(expectedAmount)).is.true;\nexpect(user1Status.lastClaimedTimestamp.eq(epochTimeInHoursBN)).is.true;\nconst distributionHistory1 = await distributionContract.getDistributionHistory();\nexpect(distributionHistory1[0].remainingTokensToClaim.eq(distributeAmountBN.div(2))).is.true;\nconst balanceUser2 = await token.balanceOf(user2.address);\nawait distributionContract.connect(user2).claimRewards();\nconst finalBalanceUser2 = await token.balanceOf(user2.address);\nconst user2Status = await distributionContract.getUserStatus(user2.address);\nexpect(finalBalanceUser2.sub(balanceUser2).eq(expectedAmount)).is.true;\nexpect(user2Status.lastClaimedTimestamp.eq(epochTimeInHoursBN)).is.true;\nconst distributionHistory2 = await distributionContract.getDistributionHistory();\nexpect(distributionHistory2[0].remainingTokensToClaim.eq(BN(0))).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5591822-6d6d-4b2f-a98b-1ae19d078a6f&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can claim their pending rewards together&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Users can claim their pending rewards together&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst skipTimeInSeconds = SLOT_BN.mul(BN(3600)).add(BN(3600));\nawait skipTime(skipTimeInSeconds.toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait skipTime(skipTimeInSeconds.toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nconst balance = await token.balanceOf(user1.address);\nawait distributionContract.connect(user1).claimRewards();\nconst expectedAmount = await debitFee(token, distributeAmountBN.mul(BN(2)));\nconst finalBalance = await token.balanceOf(user1.address);\nconst epochTimeInHoursBN = BN(Math.floor(Date.now() / 1000 / 3600)).add(\n  SLOT_BN.mul(BN(2)).add(BN(2))\n);\nconst userStatus = await distributionContract.getUserStatus(user1.address);\nexpect(finalBalance.sub(balance).eq(expectedAmount)).is.true;\nexpect(userStatus.lastClaimedTimestamp.eq(epochTimeInHoursBN)).is.true;\nconst distributionHistory = await distributionContract.getDistributionHistory();\nfor (let i = 0; i &lt; distributionHistory.length; i++) {\n  expect(distributionHistory[i].remainingTokensToClaim.eq(BN(0))).is.true;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86167b0c-2618-4464-baf5-41a7a27b1a36&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fund claimed&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Event emitted when fund claimed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait expect(distributionContract.connect(user1).claimRewards())\n  .to.emit(distributionContract, &#x27;Claim&#x27;)\n  .withArgs(user1.address, distributeAmountBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1356dd7b-cbb9-434f-bab5-a4855c7f8288&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when user tries to claim after a successful claim within same slot&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Reverts when user tries to claim after a successful claim within same slot&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait expect(distributionContract.connect(user1).claimRewards()).to.be.revertedWith(\n  &#x27;LINGO: Already claimed&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdf56e86-35e3-4a34-9cee-b179d7b8774f&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when user tries to claim with no rewards&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Reverts when user tries to claim with no rewards&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nconst skipTimeBN = SLOT_BN.mul(BN(3600));\nawait skipTime(skipTimeBN.sub(BN(3600)).toNumber());\nawait withdraw(distributionContract, user1, amountBN);\nawait skipTime(BN(2).mul(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait skipTime(skipTimeBN.toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nawait expect(distributionContract.connect(user1).claimRewards()).to.be.revertedWith(\n  &#x27;LINGO: Zero rewards&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec51ad2f-bd0b-4867-a1ac-2655debf778f&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when an user who have not staked tries to claim&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Reverts when an user who have not staked tries to claim&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait expect(distributionContract.connect(user1).claimRewards()).to.be.revertedWith(\n  &#x27;LINGO: Not an active user&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d33c0d3-d55e-438f-9c90-e5afb64b8ab1&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when staking is not active&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Claim Reverts when staking is not active&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(BN(SLOT_BN).mul(BN(3600)).add(BN(3600)).toNumber());\nawait expect(distributionContract.connect(user1).claimRewards()).to.be.revertedWith(\n  &#x27;LINGO: Distribution is on hold. Please contact admin&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17a5f6c4-a227-46a1-ac89-83121107e4e6&quot;,&quot;parentUUID&quot;:&quot;57b6ef3a-9fa2-4f5b-9c56-4831867a304b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b4277336-50ab-48aa-87b1-6590e82f2f4d&quot;,&quot;a5591822-6d6d-4b2f-a98b-1ae19d078a6f&quot;,&quot;86167b0c-2618-4464-baf5-41a7a27b1a36&quot;,&quot;1356dd7b-cbb9-434f-bab5-a4855c7f8288&quot;,&quot;cdf56e86-35e3-4a34-9cee-b179d7b8774f&quot;,&quot;ec51ad2f-bd0b-4867-a1ac-2655debf778f&quot;,&quot;6d33c0d3-d55e-438f-9c90-e5afb64b8ab1&quot;,&quot;17a5f6c4-a227-46a1-ac89-83121107e4e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1116,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;title&quot;:&quot;Admin Claim&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Admin Claim\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim \&quot;before each\&quot; hook in \&quot;Admin Claim\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4111803b-ac4d-4648-93d3-1fe1a27da4ce&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Admin can withdraw the expired tokens after admin claim period&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Admin can withdraw the expired tokens after admin claim period&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst balance = await token.balanceOf(owner.address);\nconst adminClaimPeriod = await distributionContract.getAdminClaimPeriod();\nawait skipTime(adminClaimPeriod.mul(BN(3600)).toNumber());\nawait distributionContract.adminClaim();\nconst finalBalance = await token.balanceOf(owner.address);\nexpect(finalBalance.sub(balance).eq(distributeAmountBN)).is.true;\nconst distributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory[distributionHistory.length - 1].remainingTokensToClaim.eq(BN(0)))\n  .is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00254f74-4996-4340-a46a-382c375eb808&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Admin can withdraw the expired tokens of multiple slots together&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Admin can withdraw the expired tokens of multiple slots together&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:171,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nconst balance = await token.balanceOf(owner.address);\nlet distributionHistory = await distributionContract.getDistributionHistory();\nconst expectedAmount = distributionHistory.reduce((acc, curr) =&gt; {\n  return BN(acc).add(curr.remainingTokensToClaim);\n}, 0);\nconst adminClaimPeriod = await distributionContract.getAdminClaimPeriod();\nawait skipTime(adminClaimPeriod.mul(BN(3600)).toNumber());\nawait distributionContract.adminClaim();\nconst finalBalance = await token.balanceOf(owner.address);\nexpect(finalBalance.sub(balance).eq(expectedAmount)).is.true;\ndistributionHistory = await distributionContract.getDistributionHistory();\ndistributionHistory.forEach((val) =&gt; {\n  expect(val.remainingTokensToClaim.eq(BN(0))).is.true;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b74c80b5-688d-4d91-8175-a74d0b1175b7&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Admin can withdraw only expired tokens&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Admin can withdraw only expired tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).toNumber());\nawait distribute(distributionContract, token, distributeAmountBN);\nconst adminClaimPeriod = await distributionContract.getAdminClaimPeriod();\nawait skipTime(adminClaimPeriod.sub(SLOT_BN).mul(BN(3600)).toNumber());\nawait distributionContract.adminClaim();\ndistributionHistory = await distributionContract.getDistributionHistory();\nexpect(distributionHistory[distributionHistory.length - 1].remainingTokensToClaim.eq(BN(0)))\n  .is.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78be89b6-7b70-42df-acdc-ad8f75a390db&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when admin claims expired tokens&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Event emitted when admin claims expired tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nconst adminClaimPeriod = await distributionContract.getAdminClaimPeriod();\nawait skipTime(adminClaimPeriod.mul(BN(3600)).toNumber());\nawait expect(distributionContract.adminClaim())\n  .to.emit(distributionContract, &#x27;AdminClaim&#x27;)\n  .withArgs(owner.address, distributeAmountBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3dd6281-d967-4c11-8e77-d1b7e96f4140&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when now owner tries to claim expired rewards&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Admin Claim Reverts when now owner tries to claim expired rewards&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(distributionContract.connect(user1).adminClaim()).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74e81cbd-4db0-4a6d-bfd8-1fbef6a2975d&quot;,&quot;parentUUID&quot;:&quot;e35c218b-36d9-4294-a301-3361fa9915c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00254f74-4996-4340-a46a-382c375eb808&quot;,&quot;b74c80b5-688d-4d91-8175-a74d0b1175b7&quot;,&quot;78be89b6-7b70-42df-acdc-ad8f75a390db&quot;,&quot;e3dd6281-d967-4c11-8e77-d1b7e96f4140&quot;,&quot;74e81cbd-4db0-4a6d-bfd8-1fbef6a2975d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:618,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;title&quot;:&quot;Random&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\distributionContract.js&quot;,&quot;file&quot;:&quot;\\test\\distributionContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Random\&quot;&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random \&quot;before each\&quot; hook in \&quot;Random\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const balanceBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait initialFundAllocation(token, balanceBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;958c03c8-567e-4141-ad04-779d1e5f3e2c&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Random 1&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:366,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(SLOT_BN.mul(BN(3600)).add(BN(3600)).toNumber());\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4df11e4a-825d-4693-9d65-6bf7b510b7b1&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 2&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:333,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b376cb25-370f-4551-813b-32911af07a9a&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 3&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:428,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait withdraw(distributionContract, user1, BN(10).mul(BN(10).pow(DECIMALS_BN)));\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user3, amountBN3);\nawait withdraw(distributionContract, user2, BN(17).mul(BN(10).pow(DECIMALS_BN)));\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2f03c49-8dab-4eb5-b5e1-f59badbcdab7&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 4&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:481,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(15 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait withdraw(distributionContract, user1, BN(10).mul(BN(10).pow(DECIMALS_BN)));\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(\n  BN(5 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user1, amountBN3);\nawait withdraw(distributionContract, user2, amountBN2);\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa78c32f-a43c-46c6-a60f-ca82a4f9a3e6&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 5&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:534,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(15 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait withdraw(distributionContract, user1, BN(10).mul(BN(10).pow(DECIMALS_BN)));\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(\n  BN(5 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user1, amountBN3);\nawait withdraw(distributionContract, user2, amountBN2);\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;754ac0c7-699b-415a-92e7-7bb8f29f070a&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 6&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:716,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(15 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait withdraw(distributionContract, user1, BN(10).mul(BN(10).pow(DECIMALS_BN)));\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(\n  BN(5 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user1, amountBN3);\nawait withdraw(distributionContract, user2, amountBN2);\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait distributionContract.connect(user2).claimRewards();\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user1, amountBN3);\nawait deposit(distributionContract, token, user2, amountBN3);\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait withdraw(distributionContract, user2, BN(20).mul(BN(10).pow(DECIMALS_BN)));\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b826fff5-edb3-4783-b3d2-8cea688d94b9&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Random 7&quot;,&quot;fullTitle&quot;:&quot;Distribution Contract Random Random 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:750,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountBN1 = BN(101).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN2 = BN(67).mul(BN(10).pow(DECIMALS_BN));\nconst amountBN3 = BN(33).mul(BN(10).pow(DECIMALS_BN));\nawait deposit(distributionContract, token, user1, amountBN1);\nawait skipTime(\n  BN(15 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user2, amountBN2);\nawait withdraw(distributionContract, user1, BN(10).mul(BN(10).pow(DECIMALS_BN)));\nawait deposit(distributionContract, token, user3, amountBN3);\nawait skipTime(\n  BN(5 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait deposit(distributionContract, token, user1, amountBN3);\nawait withdraw(distributionContract, user2, amountBN2);\nawait skipTime(\n  BN(11 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nconst distributeAmountBN = BN(10000).mul(BN(10).pow(DECIMALS_BN));\nawait distribute(distributionContract, token, distributeAmountBN);\nawait distributionContract.connect(user1).claimRewards();\nawait skipTime(\n  BN(10 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait distributionContract.connect(user2).claimRewards();\nawait deposit(distributionContract, token, user1, amountBN3);\nawait deposit(distributionContract, token, user2, amountBN3);\nawait skipTime(\n  BN(5 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait withdraw(distributionContract, user2, BN(20).mul(BN(10).pow(DECIMALS_BN)));\nawait skipTime(\n  BN(16 * 24)\n    .mul(BN(3600))\n    .toNumber()\n);\nawait distribute(distributionContract, token, BN(1).mul(BN(10).pow(DECIMALS_BN)));\nawait distributionContract.connect(user3).claimRewards();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;982eec35-ec64-4b8d-afee-1b4371aa0e56&quot;,&quot;parentUUID&quot;:&quot;6d73aa49-5f08-48e2-b2d4-0c6fc5990638&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4df11e4a-825d-4693-9d65-6bf7b510b7b1&quot;,&quot;b376cb25-370f-4551-813b-32911af07a9a&quot;,&quot;f2f03c49-8dab-4eb5-b5e1-f59badbcdab7&quot;,&quot;fa78c32f-a43c-46c6-a60f-ca82a4f9a3e6&quot;,&quot;754ac0c7-699b-415a-92e7-7bb8f29f070a&quot;,&quot;b826fff5-edb3-4783-b3d2-8cea688d94b9&quot;,&quot;982eec35-ec64-4b8d-afee-1b4371aa0e56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3608,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;9a03da4a-1b3b-4692-89aa-4c29f17fb363&quot;,&quot;title&quot;:&quot;LINGO Token&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;LINGO Token\&quot;&quot;,&quot;fullTitle&quot;:&quot;LINGO Token \&quot;before each\&quot; hook in \&quot;LINGO Token\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;[owner, user1, user2, user3, treasuryWallet] = await ethers.getSigners();\nconst Token = await ethers.getContractFactory(&#x27;LINGO&#x27;);\ntoken = await Token.deploy(\n  NAME,\n  SYMBOL,\n  TOTAL_SUPPLY_BN,\n  owner.address,\n  treasuryWallet.address,\n  FEE_BN\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5f85c4f-f7c2-478e-9c5d-153ceaca7952&quot;,&quot;parentUUID&quot;:&quot;9a03da4a-1b3b-4692-89aa-4c29f17fb363&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;97c2a971-cdfe-4997-a353-1b6aa231a4a6&quot;,&quot;title&quot;:&quot;Deployment&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Ownership transferred from deployer to owner&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Deployment Ownership transferred from deployer to owner&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await token.owner();\nexpect(result).to.equal(owner.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7b60e0b-edfc-4430-b7d8-14bab7c156d2&quot;,&quot;parentUUID&quot;:&quot;97c2a971-cdfe-4997-a353-1b6aa231a4a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7b60e0b-edfc-4430-b7d8-14bab7c156d2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;6026aa2c-be54-431c-8948-587140f3f4d2&quot;,&quot;title&quot;:&quot;Metadata&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Token metadata is correct&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Metadata Token metadata is correct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.name()).to.equal(NAME);\nexpect(await token.symbol()).to.equal(SYMBOL);\nexpect(await token.decimals()).to.equals(Number(DECIMALS_BN));\nexpect((await token.getTransferFee()).eq(FEE_BN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a4d463c-57c2-4796-8efc-d5c3fefe569a&quot;,&quot;parentUUID&quot;:&quot;6026aa2c-be54-431c-8948-587140f3f4d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a4d463c-57c2-4796-8efc-d5c3fefe569a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;5a1ab0f2-8b6c-4fb7-8288-e21b7dc50236&quot;,&quot;title&quot;:&quot;Balance&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Users can check their balance&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Balance Users can check their balance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await token.balanceOf(user1.address)).eq(BN(0))).is.true;\nconst amountToSendBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\n//admin to user1.address\nawait token.transfer(user1.address, amountToSendBN);\nexpect((await token.balanceOf(user1.address)).eq(amountToSendBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b369d6a3-d8cc-48c2-b550-99407e3210f5&quot;,&quot;parentUUID&quot;:&quot;5a1ab0f2-8b6c-4fb7-8288-e21b7dc50236&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b369d6a3-d8cc-48c2-b550-99407e3210f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;title&quot;:&quot;Transfer&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Initial supply minted and transferred to owner&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transfer Initial supply minted and transferred to owner&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await token.balanceOf(owner.address)).eq(TOTAL_SUPPLY_BN_WEI)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d1c285b-69f2-4ce9-aa09-217ea4a6a10b&quot;,&quot;parentUUID&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can transfer tokens to other users&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transfer Users can transfer tokens to other users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\n//admin to user1.address\nawait token.transfer(user1.address, amountToSendBN);\nexpect((await token.balanceOf(user1.address)).eq(amountToSendBN)).is.true;\n//user1.address to user2.address\nawait token.connect(user1).transfer(user2.address, amountToSendBN);\nconst expectedBalanceOfUser2 = await debitFee(token, amountToSendBN);\nexpect((await token.balanceOf(user2.address)).eq(expectedBalanceOfUser2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6c5f179-fb44-4cc3-99e8-e5871b45ffe8&quot;,&quot;parentUUID&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when tokens are transferred&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transfer Event emitted when tokens are transferred&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(token.transfer(user1.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(owner.address, user1.address, amountToSendBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d6cdec5-5a69-4c61-8155-f994c130d9e0&quot;,&quot;parentUUID&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts if user tries to transfer tokens without enough balance&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transfer Reverts if user tries to transfer tokens without enough balance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nawait expect(\n  token.connect(user3).transfer(user2.address, amountToSendBN)\n).to.be.revertedWith(&#x27;ERC20: transfer amount exceeds balance&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d703e491-7f31-41b0-a3e9-2a2c84ac62cf&quot;,&quot;parentUUID&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts if user tries to transfer tokens to zero address&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transfer Reverts if user tries to transfer tokens to zero address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(10).mul(BN(10).pow(DECIMALS_BN));\nawait expect(token.transfer(ZERO_ADDRESS, amountToSendBN)).to.be.revertedWith(\n  &#x27;ERC20: transfer to the zero address&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3df35851-7300-4c7d-84aa-27cd2ef198b5&quot;,&quot;parentUUID&quot;:&quot;3c074783-8461-4e01-bec4-536a23658bd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d1c285b-69f2-4ce9-aa09-217ea4a6a10b&quot;,&quot;e6c5f179-fb44-4cc3-99e8-e5871b45ffe8&quot;,&quot;3d6cdec5-5a69-4c61-8155-f994c130d9e0&quot;,&quot;d703e491-7f31-41b0-a3e9-2a2c84ac62cf&quot;,&quot;3df35851-7300-4c7d-84aa-27cd2ef198b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:103,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;title&quot;:&quot;Allowance&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Users can check their allowance&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Users can check their allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await token.allowance(owner.address, user1.address)).eq(BN(0)));\nconst amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\n//approving allowance\nawait token.approve(user1.address, amountToSendBN);\n//checking allowance\nexpect((await token.allowance(owner.address, user1.address)).eq(amountToSendBN));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0f15c96-02a8-4a05-99bc-8b42fc1e79d0&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Approve transfer of available tokens by third-party&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Approve transfer of available tokens by third-party&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:51,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst balanceOfOwner = await token.balanceOf(owner.address);\nconst balanceOfUser1 = await token.balanceOf(user1.address);\nconst balanceOfUser2 = await token.balanceOf(user2.address);\n//approving allowance\nawait token.approve(user1.address, amountToSendBN);\n//checking allowance\nexpect((await token.allowance(owner.address, user1.address)).eq(amountToSendBN));\n//verifying transaction of approved tokens\nawait token.connect(user1).transferFrom(owner.address, user2.address, amountToSendBN);\nexpect((await token.balanceOf(owner.address)).eq(balanceOfOwner.sub(amountToSendBN)));\nexpect((await token.balanceOf(user1.address)).eq(balanceOfUser1));\nexpect((await token.balanceOf(user2.address)).eq(balanceOfUser2.add(amountToSendBN)));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;beba7029-d147-4fd6-a56d-08f8dd6b1bf1&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted someone approves transfer of available tokens by third-party&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Event emitted someone approves transfer of available tokens by third-party&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait expect(token.approve(user1.address, amountToSendBN))\n  .to.emit(token, &#x27;Approval&#x27;)\n  .withArgs(owner.address, user1.address, amountToSendBN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;205f9e54-f643-412a-99ef-7eecc9332664&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Increase allowance&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Increase allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst increasedAmountBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nawait token.approve(user1.address, amountToSendBN);\nexpect((await token.allowance(owner.address, user1.address)).eq(amountToSendBN));\nawait token.increaseAllowance(user1.address, increasedAmountBN);\nexpect(\n  (await token.allowance(owner.address, user1.address)).eq(\n    amountToSendBN.add(increasedAmountBN)\n  )\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da79c999-3414-4bae-a3e0-9876f6db9ea9&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Decrease allowance&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Decrease allowance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst increasedAmountBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nawait token.approve(user1.address, amountToSendBN);\nexpect((await token.allowance(owner.address, user1.address)).eq(amountToSendBN));\nawait token.increaseAllowance(user1.address, increasedAmountBN);\nexpect(\n  (await token.allowance(owner.address, user1.address)).eq(\n    amountToSendBN.sub(increasedAmountBN)\n  )\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaa280af-8d8b-44f7-8a35-2046b4030519&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Revert when trying to approve unavailable tokens by third-party&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Revert when trying to approve unavailable tokens by third-party&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\n//approving allowance\nawait token.connect(user1).approve(user2.address, amountToSendBN);\n//checking allowance\nexpect((await token.allowance(user1.address, user2.address)).eq(amountToSendBN));\n//verifying transaction of approved tokens\nawait expect(\n  token.connect(user2).transferFrom(user1.address, user3.address, amountToSendBN)\n).to.be.revertedWith(&#x27;ERC20: transfer amount exceeds balance&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9e906f1-f57f-4ad6-8e15-06da0f68e08a&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Revert when trying to transfer more than allowed tokens by third-party&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Allowance Revert when trying to transfer more than allowed tokens by third-party&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\n//approving allowance\nawait token.approve(user1.address, amountToSendBN);\n//checking allowance\nexpect((await token.allowance(owner.address, user1.address)).eq(amountToSendBN));\n//verifying transaction of approved tokens\nawait expect(\n  token\n    .connect(user1)\n    .transferFrom(owner.address, user2.address, amountToSendBN.add(BN(1000)))\n).to.be.revertedWith(&#x27;ERC20: insufficient allowance&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33b08eda-22d5-4948-bd4f-d9c20b5140e6&quot;,&quot;parentUUID&quot;:&quot;cf02d766-ad44-4d2c-94b5-46c86e2eeebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0f15c96-02a8-4a05-99bc-8b42fc1e79d0&quot;,&quot;beba7029-d147-4fd6-a56d-08f8dd6b1bf1&quot;,&quot;205f9e54-f643-412a-99ef-7eecc9332664&quot;,&quot;da79c999-3414-4bae-a3e0-9876f6db9ea9&quot;,&quot;aaa280af-8d8b-44f7-8a35-2046b4030519&quot;,&quot;b9e906f1-f57f-4ad6-8e15-06da0f68e08a&quot;,&quot;33b08eda-22d5-4948-bd4f-d9c20b5140e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:194,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;title&quot;:&quot;Ownership&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Transferring ownership&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Ownership Transferring ownership&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await token.transferOwnership(user1.address);\nexpect(await token.owner()).to.equal(user1.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d6d5379-3402-4a65-a0de-4a8dd71696eb&quot;,&quot;parentUUID&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted on transferring ownership&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Ownership Event emitted on transferring ownership&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(token.transferOwnership(user1.address))\n  .to.emit(token, &#x27;OwnershipTransferred&#x27;)\n  .withArgs(owner.address, user1.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea20dda3-bbcd-44dc-8a39-4b4b5ce59abf&quot;,&quot;parentUUID&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Revert when some user other than owner tries to transfer ownership&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Ownership Revert when some user other than owner tries to transfer ownership&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(token.connect(user2).transferOwnership(user1.address)).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5aaee4b-97b1-4474-b5fb-4a87c8832740&quot;,&quot;parentUUID&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Renounce ownership&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Ownership Renounce ownership&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await token.renounceOwnership();\nexpect(await token.owner()).to.not.equal(owner.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f46ed34-0f23-436d-ab6a-ea738e7a3ee2&quot;,&quot;parentUUID&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Revert when some user other than owner tries to renounce ownership&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Ownership Revert when some user other than owner tries to renounce ownership&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(token.connect(user2).renounceOwnership()).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83e2cba5-3b30-4fbf-adc2-9e2b8760f398&quot;,&quot;parentUUID&quot;:&quot;cc6bdde6-4223-419c-b2a0-3c0d8b76f2e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d6d5379-3402-4a65-a0de-4a8dd71696eb&quot;,&quot;ea20dda3-bbcd-44dc-8a39-4b4b5ce59abf&quot;,&quot;d5aaee4b-97b1-4474-b5fb-4a87c8832740&quot;,&quot;2f46ed34-0f23-436d-ab6a-ea738e7a3ee2&quot;,&quot;83e2cba5-3b30-4fbf-adc2-9e2b8760f398&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:82,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;cf84ee0a-c1b3-4cad-89c3-e55b5bdd704a&quot;,&quot;title&quot;:&quot;Mint&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Owner can mint tokens&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Mint Owner can mint tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToMintBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nconst ownerInitBalanceBN = await token.balanceOf(owner.address);\nawait token.mint(owner.address, amountToMintBN);\nexpect((await token.balanceOf(owner.address)).eq(ownerInitBalanceBN.add(amountToMintBN))).is\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb457206-1d6f-4755-9a7c-56f357c50a97&quot;,&quot;parentUUID&quot;:&quot;cf84ee0a-c1b3-4cad-89c3-e55b5bdd704a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to mint tokens&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Mint Reverts when non owner tries to mint tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToMintBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nawait expect(token.connect(user1).mint(owner.address, amountToMintBN)).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d12bf137-9fdc-4917-876d-38e89145857f&quot;,&quot;parentUUID&quot;:&quot;cf84ee0a-c1b3-4cad-89c3-e55b5bdd704a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb457206-1d6f-4755-9a7c-56f357c50a97&quot;,&quot;d12bf137-9fdc-4917-876d-38e89145857f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;e2756e81-5468-4117-b4c8-68f7266a0c44&quot;,&quot;title&quot;:&quot;Burn&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Users can burn their own tokens&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Burn Users can burn their own tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToBurnBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nconst ownerInitBalanceBN = await token.balanceOf(owner.address);\nawait token.burn(amountToBurnBN);\nexpect((await token.balanceOf(owner.address)).eq(ownerInitBalanceBN.sub(amountToBurnBN))).is\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a0d5c6f-4ecf-4aad-b0a5-ea507bf45305&quot;,&quot;parentUUID&quot;:&quot;e2756e81-5468-4117-b4c8-68f7266a0c44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when users tries to burn unavailable tokens&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Burn Reverts when users tries to burn unavailable tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToBurnBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nawait expect(token.connect(user1).burn(amountToBurnBN)).to.be.revertedWith(\n  &#x27;ERC20: burn amount exceeds balance&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecce2150-6d49-4dc7-9d52-32af58a837e1&quot;,&quot;parentUUID&quot;:&quot;e2756e81-5468-4117-b4c8-68f7266a0c44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can burn allowed tokens from another user&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Burn Users can burn allowed tokens from another user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const allowanceAmountBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nconst amountToBurnBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nconst ownerInitBalanceBN = await token.balanceOf(owner.address);\nawait token.approve(user1.address, allowanceAmountBN);\nexpect((await token.allowance(owner.address, user1.address)).eq(allowanceAmountBN));\nawait token.connect(user1).burnFrom(owner.address, amountToBurnBN);\nexpect((await token.balanceOf(owner.address)).eq(ownerInitBalanceBN.sub(amountToBurnBN))).is\n  .true;\nexpect(\n  (await token.allowance(owner.address, user1.address)).eq(\n    allowanceAmountBN.sub(amountToBurnBN)\n  )\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;728698e7-cce4-4177-88b8-95feddb9e1df&quot;,&quot;parentUUID&quot;:&quot;e2756e81-5468-4117-b4c8-68f7266a0c44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when users tries to burn tokens more than allowed&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Burn Reverts when users tries to burn tokens more than allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const allowanceAmountBN = BN(500).mul(BN(10).pow(DECIMALS_BN));\nconst amountToBurnBN = BN(1000).mul(BN(10).pow(DECIMALS_BN));\nawait token.approve(user1.address, allowanceAmountBN);\nexpect((await token.allowance(owner.address, user1.address)).eq(allowanceAmountBN));\nawait expect(\n  token.connect(user1).burnFrom(owner.address, amountToBurnBN)\n).to.be.revertedWith(&#x27;ERC20: insufficient allowance&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04bcb519-d81b-4eb4-8834-3b378be1e7f0&quot;,&quot;parentUUID&quot;:&quot;e2756e81-5468-4117-b4c8-68f7266a0c44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6a0d5c6f-4ecf-4aad-b0a5-ea507bf45305&quot;,&quot;ecce2150-6d49-4dc7-9d52-32af58a837e1&quot;,&quot;728698e7-cce4-4177-88b8-95feddb9e1df&quot;,&quot;04bcb519-d81b-4eb4-8834-3b378be1e7f0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:100,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;title&quot;:&quot;Transaction Fee&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Anyone can read current fee percentage&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transaction Fee Anyone can read current fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await token.getTransferFee()).eq(FEE_BN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;309e282d-c504-42d6-abb3-90b50ad803ef&quot;,&quot;parentUUID&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update fee percentage&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transaction Fee Owner can update fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect((await token.getTransferFee()).eq(FEE_BN)).is.true;\nconst NEW_FEE = BN(200);\nawait token.setTransferFee(NEW_FEE);\nexpect((await token.getTransferFee()).eq(NEW_FEE)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6eb41a49-66b8-4614-a7bf-227eeba02c69&quot;,&quot;parentUUID&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when fee percentage updated&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transaction Fee Event emitted when fee percentage updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(200);\nawait expect(token.setTransferFee(NEW_FEE))\n  .to.emit(token, &#x27;TransferFeeUpdated&#x27;)\n  .withArgs(NEW_FEE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ab88cb3-418c-4efa-b2bf-3bd2ea6eba32&quot;,&quot;parentUUID&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update fee percentage&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transaction Fee Reverts when non owner tries to update fee percentage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(200);\nawait expect(token.connect(user1).setTransferFee(NEW_FEE)).to.be.revertedWith(\n  &#x27;Ownable: caller is not the owner&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;864f38bb-ec39-427e-bbbe-e9c1142f6b47&quot;,&quot;parentUUID&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when tries to update fee percentage outside the limit 0% - 5%&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Transaction Fee Reverts when tries to update fee percentage outside the limit 0% - 5%&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const NEW_FEE = BN(600);\nawait expect(token.setTransferFee(NEW_FEE)).to.be.revertedWith(\n  &#x27;LINGO: Transfer Fee should be between 0% - 5%&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;739c1e00-d16b-4667-93b6-d6bb7fde54aa&quot;,&quot;parentUUID&quot;:&quot;24ec9269-45b9-4bf4-805a-6198a74d3bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;309e282d-c504-42d6-abb3-90b50ad803ef&quot;,&quot;6eb41a49-66b8-4614-a7bf-227eeba02c69&quot;,&quot;7ab88cb3-418c-4efa-b2bf-3bd2ea6eba32&quot;,&quot;864f38bb-ec39-427e-bbbe-e9c1142f6b47&quot;,&quot;739c1e00-d16b-4667-93b6-d6bb7fde54aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:85,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;title&quot;:&quot;Treasury Wallet&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Owner can read current treasury wallet&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Owner can read current treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.getTreasuryWalletAddress()).equals(treasuryWallet.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b30028a-a76f-4900-aabe-99cb2c1db325&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can update treasury wallet&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Owner can update treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await token.setTreasuryWalletAddress(user3.address);\nexpect(await token.getTreasuryWalletAddress()).equals(user3.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1282a5f-7fcf-4101-a890-5b2facdc86e5&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Event emitted when treasury wallet updated&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Event emitted when treasury wallet updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(token.setTreasuryWalletAddress(user3.address))\n  .to.emit(token, &#x27;TreasuryWalletUpdated&#x27;)\n  .withArgs(user3.address);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c93d3f0-4d43-41ad-8e6e-197a4bc345d4&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Fee is debited and sent to treasury wallet on transactions&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Fee is debited and sent to treasury wallet on transactions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(100).mul(BN(10).pow(DECIMALS_BN));\nexpect((await token.balanceOf(treasuryWallet.address)).eq(BN(0))).is.true;\n//admin to user1.address\nawait token.transfer(user1.address, amountToSendBN);\nexpect((await token.balanceOf(user1.address)).eq(amountToSendBN)).is.true;\n//user1.address to user2.address\nawait token.connect(user1).transfer(user2.address, amountToSendBN);\nconst expectedBalanceOfUser2 = await debitFee(token, amountToSendBN);\nexpect((await token.balanceOf(user2.address)).eq(expectedBalanceOfUser2)).is.true;\nconst fee = amountToSendBN.sub(expectedBalanceOfUser2);\nexpect((await token.balanceOf(treasuryWallet.address)).eq(fee)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69d703de-0389-41d9-82fa-8df9f02bc13c&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when non owner tries to update treasury wallet&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Reverts when non owner tries to update treasury wallet&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(\n  token.connect(user1).setTreasuryWalletAddress(user3.address)\n).to.be.revertedWith(&#x27;Ownable: caller is not the owner&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8f950a9-3176-4174-a34d-ce9c0358a4c1&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Reverts when owner tries to update treasury wallet with zero address  `&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Treasury Wallet Reverts when owner tries to update treasury wallet with zero address  `&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(token.setTreasuryWalletAddress(ZERO_ADDRESS)).to.be.revertedWith(\n  &#x27;LINGO: Zero Address&#x27;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a87f8a35-7924-46eb-b9f8-242960a084b5&quot;,&quot;parentUUID&quot;:&quot;5f8936a8-7178-457f-96df-23986be9f4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b30028a-a76f-4900-aabe-99cb2c1db325&quot;,&quot;f1282a5f-7fcf-4101-a890-5b2facdc86e5&quot;,&quot;3c93d3f0-4d43-41ad-8e6e-197a4bc345d4&quot;,&quot;69d703de-0389-41d9-82fa-8df9f02bc13c&quot;,&quot;d8f950a9-3176-4174-a34d-ce9c0358a4c1&quot;,&quot;a87f8a35-7924-46eb-b9f8-242960a084b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:123,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;title&quot;:&quot;Whitelisting&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\test\\lingoTokenContract.js&quot;,&quot;file&quot;:&quot;\\test\\lingoTokenContract.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Owner address, Contract address and Treasury wallet address are included in internal whitelist by default&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Owner address, Contract address and Treasury wallet address are included in internal whitelist by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.isInternalWhiteListed(owner.address)).to.be.true;\nexpect(await token.isInternalWhiteListed(token.address)).to.be.true;\nexpect(await token.isInternalWhiteListed(treasuryWallet.address)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0d97936-1f79-4ad4-938e-96874cc28641&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can add accounts to both whitelists&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Owner can add accounts to both whitelists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(0, [user1.address]);\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.true;\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(1, [user1.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cfae9ea-7cef-492c-affc-96630e25c1cd&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Owner can remove accounts from whitelists&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Owner can remove accounts from whitelists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await token.addToWhiteList(0, [user1.address]);\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.true;\nawait token.removeFromWhiteList(0, [user1.address]);\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(1, [user1.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.true;\nawait token.removeFromWhiteList(1, [user1.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6eb83cb2-a335-4406-a2db-ec8c614ea07a&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can check an account is whitelisted or not&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Users can check an account is whitelisted or not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(0, [user1.address]);\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.true;\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(1, [user1.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1818607e-a037-4a76-b2f0-9a0e966cd0b8&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Users can read whitelisted accounts&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Users can read whitelisted accounts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(0, [user1.address]);\nconst externalWhiteList = await token.getExternalWhitelistedAddresses();\nexpect(_.isEqual(externalWhiteList, [user1.address])).to.be.true;\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nawait token.addToWhiteList(1, [user1.address]);\nconst internalWhiteList = await token.getInternalWhitelistedAddresses();\nexpect(\n  _.isEqual(internalWhiteList, [\n    owner.address,\n    token.address,\n    treasuryWallet.address,\n    user1.address,\n  ])\n).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aa1972a-fab6-4f17-9dee-11c58a6e506c&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Fee is not debited if token transferred from or to an internal whitelisted account&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Fee is not debited if token transferred from or to an internal whitelisted account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:49,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(10).mul(BN(10).pow(DECIMALS_BN));\nexpect(await token.isInternalWhiteListed(owner.address)).to.be.true;\n//From internal whitelisted account\nawait expect(token.transfer(user1.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(owner.address, user1.address, amountToSendBN);\nexpect((await token.balanceOf(user1.address)).eq(amountToSendBN)).is.true;\n//To internal whitelisted account\nconst balanceOfOwner = await token.balanceOf(owner.address);\nawait expect(token.connect(user1).transfer(owner.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(user1.address, owner.address, amountToSendBN);\nexpect((await token.balanceOf(owner.address)).eq(balanceOfOwner.add(amountToSendBN))).is\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de3f0376-cfcc-4599-b892-7ab99664129a&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Fee is not debited if token transferred to an external whitelisted account&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Fee is not debited if token transferred to an external whitelisted account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(10).mul(BN(10).pow(DECIMALS_BN));\nawait token.addToWhiteList(0, [user2.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nexpect(await token.isInternalWhiteListed(user2.address)).to.be.false;\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nexpect(await token.isExternalWhiteListed(user2.address)).to.be.true;\ntoken.transfer(user1.address, amountToSendBN);\n//To external whitelisted account\nawait expect(token.connect(user1).transfer(user2.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(user1.address, user2.address, amountToSendBN);\nexpect((await token.balanceOf(user2.address)).eq(amountToSendBN)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4690112f-11c5-48b2-8da6-a3b939c9092c&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Fee is debited if token transferred from an external whitelisted account&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Fee is debited if token transferred from an external whitelisted account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(10).mul(BN(10).pow(DECIMALS_BN));\nawait token.addToWhiteList(0, [user1.address]);\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nexpect(await token.isInternalWhiteListed(user2.address)).to.be.false;\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.true;\nexpect(await token.isExternalWhiteListed(user2.address)).to.be.false;\ntoken.transfer(user1.address, amountToSendBN);\n//From external whitelisted account\nconst expectedBalanceOfUser2 = await debitFee(token, amountToSendBN);\nawait expect(token.connect(user1).transfer(user2.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(user1.address, user2.address, expectedBalanceOfUser2);\nexpect((await token.balanceOf(user2.address)).eq(expectedBalanceOfUser2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51a1a601-8b1e-42b8-a3f2-fbe6c3874f47&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Fee is debited for all other transactions&quot;,&quot;fullTitle&quot;:&quot;LINGO Token Whitelisting Fee is debited for all other transactions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:48,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const amountToSendBN = BN(10).mul(BN(10).pow(DECIMALS_BN));\nexpect(await token.isInternalWhiteListed(user1.address)).to.be.false;\nexpect(await token.isInternalWhiteListed(user2.address)).to.be.false;\nexpect(await token.isExternalWhiteListed(user1.address)).to.be.false;\nexpect(await token.isExternalWhiteListed(user2.address)).to.be.false;\ntoken.transfer(user1.address, amountToSendBN);\n//From external whitelisted account\nconst expectedBalanceOfUser2 = await debitFee(token, amountToSendBN);\nawait expect(token.connect(user1).transfer(user2.address, amountToSendBN))\n  .to.emit(token, &#x27;Transfer&#x27;)\n  .withArgs(user1.address, user2.address, expectedBalanceOfUser2);\nexpect((await token.balanceOf(user2.address)).eq(expectedBalanceOfUser2)).is.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;647c19a0-f309-4120-a41f-d74a537c08ae&quot;,&quot;parentUUID&quot;:&quot;db1251cb-ac39-4de0-9445-3a036753a19d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0d97936-1f79-4ad4-938e-96874cc28641&quot;,&quot;6cfae9ea-7cef-492c-affc-96630e25c1cd&quot;,&quot;6eb83cb2-a335-4406-a2db-ec8c614ea07a&quot;,&quot;1818607e-a037-4a76-b2f0-9a0e966cd0b8&quot;,&quot;7aa1972a-fab6-4f17-9dee-11c58a6e506c&quot;,&quot;de3f0376-cfcc-4599-b892-7ab99664129a&quot;,&quot;4690112f-11c5-48b2-8da6-a3b939c9092c&quot;,&quot;51a1a601-8b1e-42b8-a3f2-fbe6c3874f47&quot;,&quot;647c19a0-f309-4120-a41f-d74a537c08ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:391,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:60000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot; &#x27;Lingo-Token-Test-Report&#x27;&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportFilename&quot;:&quot; &#x27;Lingo-Token-Test-Report&#x27;&quot;,&quot;quiet&quot;:&quot; true&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot; &#x27;Lingo-Token-Test-Report&#x27;&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;lingo-token&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\mochawesome-report\\ &#x27;Lingo-Token-Test-Report&#x27;.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\prasa\\Documents\\CODE\\Accubits\\lingo-token\\mochawesome-report\\ &#x27;Lingo-Token-Test-Report&#x27;.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>